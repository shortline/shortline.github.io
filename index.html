<style>
  body{
    text-align: center;
    background: #7CBA30;
    margin: 0px;
    overflow: hidden;
  }
  
  .ribbonCorner{
    border-style: solid;
    border-width: 25px;
    height: 0px;
    position: relative;
    float: left;
    top: -25px;
  }
  
  .ribbon1{
    border-color: #5C0000 transparent;
    padding: 0px 25px 0px 25px;
  }
  
  .ribbon2{
    border-color: #800000 transparent;
  }
  
  .ribbon3{
    border-color: #5C0000 transparent;
    left: 10%;
    top: 15px;
  }
  
  .ribbonFront{
    border-radius: 3px;
    position: relative;
    float: left;
    top: -30px;
    height: 60px;
    background: #800000;
    font-family: "Brush Script MT", cursive;
    font-size: 50px;
    padding: 0px 25px 0px 25px;
    box-shadow: 0px 0px 3px black;
    white-space: nowrap;
  }
  
  #headerBackground{
    right: 0px;
    left: 0px;
    top: 0px;
    height: 90px;
    position: relative;
    background: #888;
    border-bottom: solid #222222 1px;
  }
  
  #leftMenu{
    bottom: 0px;
    top: 91px;
    background: #444;
    position: absolute;
    border-right: solid #222 1px;
    border-left: solid #222 1px;
  }
  
  .leftMenuItem{
    height: 30px;
    margin: 2px;
    border: solid #222 1px;
    background: #aaa;
    line-height: 30px;
    vertical-align: middle;
    padding: 2px;
    font-family: monospace;
    min-width: 150px;
  }
  
  #sky{
    position: absolute;
    top: 0px;
    right: 0px;
    left: 0px;
    bottom: 75%;
    background: #82CAFF;
    border: 0px;
  }
  
  #tree{
    top: 30%;
  }
  #building{
    top: 60%;
  }
  #mountain{
    top: 0%;
  }
  
  .ctx{
    left:0px;
    top: 0px;
    width: 100%;
    height: 100%;
    position: fixed;
    overflow: hidden;
  }
  
  #clickit{
    position: absolute;
    left: 50px;
    top: 30%;
    width: 40%;
    height: 100px;
    background: #EBC79E;
    opacity: .8;
    line-height: 100px;
    vertical-align: middle;
    border-radius: 30px;
    border: solid #222 3px;
    font-family: monospace;
    font-size: 25px;
  }
</style>

<script>
  window.onresize = left = function(){
    var ribbon = document.getElementById("ribbon")
    var ribRect = ribbon.getBoundingClientRect();
    var left = (window.innerWidth - ribRect.width)/2;
    ribbon.style.left = (left >= 10 ? left : 10 )+'px'
    
    //document.getElementById("inFrame").style.height = (window.innerHeight - document.getElementById("headerBackground").getBoundingClientRect().bottom);
    
    //document.getElementById("inFrame").style.width = (window.innerWidth - document.getElementById("leftMenu").getBoundingClientRect().right);
  }
  
  onload = function(){
    left();
    
    var els = document.querySelectorAll('.scroll');
    var i = els.length;
    while(i > 0){
      i--;
      els[i].style.left = 0; //window.innerWidth
    }
  }
  
  var speed = .220;
  moveDivs = function(){
    var els = document.querySelectorAll('.scroll');
    
    start = new Date().getTime();
        console.log(stop - start)
    var i = els.length;
    while(i > 0){
      i--;
      var style = els[i].getBoundingClientRect()
      if (style.left <= (window.innerWidth - style.width) && els[i].dataset.done == 0) {
        newEl = els[i].cloneNode(true);
        newEl.style.left = (Math.floor(style.right) - 5) + 'px'
        els[i].parentNode.appendChild(newEl);
        els[i].dataset.done = 1;
      }
      if (style.right < 0) {
        els[i].parentNode.removeChild(els[i]);
      }
      else{
        els[i].dataset.start = new Date().getTime();
        time = els[i].dataset.start - (els[i].dataset.stop == undefined ? els[i].dataset.start : els[i].dataset.start);
        els[i].dataset.stop = els[i].dataset.start;
        els[i].style.bottom = (window.innerHeight - ((window.innerHeight) * (1-(.75*els[i].dataset.distance)))) + 'px';
        var nLeft = (style.left + ((stop - start) * speed * (1-els[i].dataset.distance)))
        els[i].style.left = nLeft + 'px';
      }
    }
    stop = new Date().getTime();
    //requestAnimationFrame(moveDivs);
  }
  //requestAnimationFrame(moveDivs);
  //setInterval(moveDivs,20);
</script>

<body>
  <div id='mainDiv'>
    <div id='sky'>
    </div>
    <canvas id='mainCanvas' class='ctx'>
      Canvas Not Enabled?
    </canvas>
    <div id = 'ribbon' class='ribbonCorner ribbon3'>
      <div class='ribbonCorner ribbon2'>
        <div class='ribbonCorner ribbon1'>
          <div class='ribbonFront'>Shortline Station</div>
        </div>
      </div>
    </div>
    <div id='clickit' onclick = "window.location = 'http://98.165.216.50:33033/shortline/main.php'">
      - Click To Play -
    </div>
      
  </div>
  <script src="draw.js"></script>
</body>
